<div class="container story">
  <div class="row">
    <span class="page-title">Edit Story</span>
    <div class="btn-group pull-right" role="group" aria-label="stories buttons">
      <button type="button" class="btn btn-new" ng-click="Story.update()">Update</button>
    </div>
  </div>
  <div class="row page-container">
    <ol class="breadcrumb">
      <li><a href="#">Home</a></li>
      <li><a ui-sref="stories">Stories</a></li>
      <li class="active"><a href="#">{{Story.data.name}}</a></li>
    </ol>
    <form novalidate>
      <uib-tabset active="0" >
        <uib-tab index="0" heading="Introduction">
          <div class="form-group">
            <label for="introHeadline">Headline</label>
            <input type="text" class="form-control" id="introHeadline" ng-model="Story.data.headline">
          </div>
          <div class="form-group">
            <label for="introImage">Image URL</label>
            <input type="url" class="form-control" id="introImage" ng-model="Story.data.headlineImage">
          </div>
          <div class="form-group">
            <label for="introDuration">Duration of slide (in seconds)</label>
            <input type="number" class="form-control" id="introDuration" ng-model="Story.data.introDuration" ng-min="5">
          </div>
        </uib-tab>
        <uib-tab index="1" heading="Meter">
          <div class="form-group">
            <label for="meterQuestion">Question</label>
            <input type="text" class="form-control" id="meterQuestion" ng-model="Story.data.meterQuestion">
          </div>
          <div class="form-group">
            <label for="meterVerdict">Verdict</label>
            <div class="checkbox">
              <label class="radio-inline">
                <input type="radio" ng-model="Story.data.meterVerdict" value="false">False
              </label>
              <label class="radio-inline">
                <input type="radio" ng-model="Story.data.meterVerdict" value="partlytrue">Partly True
              </label>
              <label class="radio-inline">
                <input type="radio" ng-model="Story.data.meterVerdict" value="plausible">Plausible
              </label>
              <label class="radio-inline">
                <input type="radio" ng-model="Story.data.meterVerdict" value="true">True
              </label>
            </div>
          </div>
          <div class="form-group">
            <label for="MeterDuration">Duration of slide (in seconds)</label>
            <input type="number" class="form-control" id="meterDuration" ng-model="Story.data.meterDuration" ng-min="5">
          </div>
        </uib-tab>
        <uib-tab index="2" heading="Explanation">
          <div class="row">
            <div class="col-sm-8">
              <div class="form-group">
                <label for="ExplanationTitle">Title</label>
                <input type="text" class="form-control" id="ExplanationTitle" ng-model="Story.data.explanationTitle">
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label for="ExplanationDuration">Duration of slide (in seconds)</label>
                <input type="number" class="form-control" id="ExplanationDuration" ng-model="Story.data.explanationDuration" ng-min="5">
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label for="ExplanationHeading">Heading</label>
                <input type="text" class="form-control" id="ExplanationHeading" ng-model="Story.stat.heading">
              </div>
            </div>
            <div class="col-sm-3">
              <div class="form-group">
                <label for="ExplanationFigure">Figure</label>
                <input type="number" class="form-control" id="ExplanationFigure" ng-model="Story.stat.figure">
              </div>
            </div>
            <div class="col-sm-3">
              <div class="form-group">
                <label for="ExplanationMeta">Figure metadata</label>
                <input type="text" class="form-control" id="ExplanationMeta" ng-model="Story.stat.meta">
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group">
                <label for="ExplanationDescription">Description</label>
                <input type="text" class="form-control" id="ExplanationDescription" ng-model="Story.stat.description">
              </div>
            </div>
            <button class="btn btn-default" type="button" ng-click="Story.addExplanation(Story.stat)">Add Stat</button>
          </div>
          <div class="row">
            <span ng-show="Story.data.explanations.length == 0">Stats not added yet</span>
            <table class="table table-striped table-hover" ng-show="Story.data.explanations.length > 0">
              <tr>
                <th>Heading</th>
                <th>Figure</th>
                <th>Figure metadata</th>
                <th>Description</th>
                <th></th>
              </tr>
              <tr ng-repeat="explanation in Story.data.explanations">
                <td>{{explanation.heading}}</td>
                <td>{{explanation.figure}}</td>
                <td>{{explanation.meta}}</td>
                <td>{{explanation.description}}</td>
                <td></td>
              </tr>
            </table>
          </div>
        </uib-tab>
        <uib-tab index="3" heading="Findings">
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label for="FindingsTitle">Title</label>
                <input type="text" class="form-control" id="FindingsTitle" ng-model="Story.data.FindingsTitle">
              </div>
            </div>
            <div class="col-sm-3">
              <div class="form-group">
                <label for="FindingsDuration">Duration of slide (in seconds)</label>
                <input type="number" class="form-control" id="FindingsDuration" ng-model="Story.data.findingsDuration" ng-min="5">
              </div>
            </div>
            <div class="col-sm-3">
              <div class="form-group">
                <label for="FindingsLayout">Select the most suitable layout</label>
                <div class="checkbox">
                  <label class="radio-inline">
                    <input type="radio" ng-model="Story.data.findingsLayout" value="numbers">Numbers
                  </label>
                  <label class="radio-inline">
                    <input type="radio" ng-model="Story.data.findingsLayout" value="charts">Chart
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="row" ng-show="Story.data.findingsLayout == 'numbers'">
            <div class="col-sm-6">
              <div class="form-group">
                <label for="ExplanationHeading">Heading</label>
                <input type="text" class="form-control" id="ExplanationHeading" ng-model="Story.finding.heading">
              </div>
            </div>
            <div class="col-sm-3">
              <div class="form-group">
                <label for="ExplanationFigure">Figure</label>
                <input type="number" class="form-control" id="ExplanationFigure" ng-model="Story.finding.figure">
              </div>
            </div>
            <div class="col-sm-3">
              <div class="form-group">
                <label for="ExplanationMeta">Figure metadata</label>
                <input type="text" class="form-control" id="ExplanationMeta" ng-model="Story.finding.meta">
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group">
                <label for="ExplanationDescription">Description</label>
                <input type="text" class="form-control" id="ExplanationDescription" ng-model="Story.finding.description">
              </div>
            </div>
            <button class="btn btn-default" type="button" ng-click="Story.addFinding(Story.finding)">Add Stat</button>
          </div>
          <div class="row" ng-show="Story.data.findingsLayout == 'numbers'">
            <span ng-show="Story.data.findings.length == 0">Stats not added yet</span>
            <table class="table table-striped table-hover" ng-show="Story.data.findings.length > 0">
              <tr>
                <th>Heading</th>
                <th>Figure</th>
                <th>Figure metadata</th>
                <th>Description</th>
                <th></th>
              </tr>
              <tr ng-repeat="finding in Story.data.findings">
                <td>{{finding.heading}}</td>
                <td>{{finding.figure}}</td>
                <td>{{finding.meta}}</td>
                <td>{{finding.description}}</td>
                <td></td>
              </tr>
            </table>
          </div>
          <div class="row" ng-show="Story.data.findingsLayout == 'charts'">
            <div class="col-sm-12">
              <div class="form-group">
                <label for="FindingsChart">Enter Url for your chart</label>
                <input type="text" class="form-control" id="FindingsChart" ng-model="Story.data.findingsChart" >
              </div>
            </div>
          </div>
        </uib-tab>
        <uib-tab index="4" heading="Source">
          <div class="form-group">
            <label for="meterQuestion">Add a source for this fact check</label>
            <input type="text" class="form-control" ng-model="Story.data.source">
          </div>
        </uib-tab>
      </uib-tabset>
    </form>
    <div class="col-sm-9"></div>
  </div>
</div>
